(function(t){function e(e){for(var c,n,r=e[0],l=e[1],b=e[2],d=0,m=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(t[c]=l[c]);i&&i(e);while(m.length)m.shift()();return a.push.apply(a,b||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],c=!0,r=1;r<o.length;r++){var l=o[r];0!==s[l]&&(c=!1)}c&&(a.splice(e--,1),t=n(n.s=o[0]))}return t}var c={},s={app:0},a=[];function n(e){if(c[e])return c[e].exports;var o=c[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=c,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)n.d(o,c,function(e){return t[e]}.bind(null,c));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var b=0;b<r.length;b++)e(r[b]);var i=l;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"1f1a":function(t,e,o){"use strict";o("e364")},"464e":function(t,e,o){},"51c5":function(t,e,o){"use strict";o("9f97")},"56d7":function(t,e,o){"use strict";o.r(e);var c=o("7a23");const s={id:"app",class:"row justify-content-between"};function a(t,e,o,a,n,r){const l=Object(c["x"])("navbar"),b=Object(c["x"])("router-view");return Object(c["q"])(),Object(c["d"])("div",s,[Object(c["g"])(l),Object(c["g"])(b)])}const n=Object(c["F"])("data-v-667372ea");Object(c["t"])("data-v-667372ea");const r={class:"sidebar col-2 pr-5 d-flex flex-column"},l=Object(c["g"])("div",{class:"header font-weight-bold"},[Object(c["f"])(" Bright"),Object(c["g"])("br"),Object(c["f"])(" Skies"),Object(c["g"])("br"),Object(c["f"])(" Above ")],-1),b=Object(c["g"])("hr",null,null,-1),i={id:"navbarText",class:"mr-2"},d=Object(c["g"])("ul",{class:"navbar-nav mr-auto"},null,-1),m={class:"navbar-text"},u={key:1,class:"dropdown"},p={class:"mx-3"},O=Object(c["g"])("div",{class:"list-group-item list-group-item-action hoverable"}," Profile ",-1),j=Object(c["g"])("hr",null,null,-1),g={class:"links"},f=Object(c["f"])(" Home "),v=Object(c["f"])(" Profile "),y=Object(c["f"])(" Posts "),P=Object(c["f"])(" Authors"),h=Object(c["g"])("br",null,null,-1),w=Object(c["f"])(" Contact "),C=Object(c["g"])("hr",null,null,-1),x=Object(c["g"])("div",{class:"place rotate"},[Object(c["g"])("p",null," Travel Blog By Ryan Carpenter ")],-1);Object(c["r"])();const k=n((function(t,e,o,s,a,k){const _=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["d"])("div",r,[Object(c["g"])(_,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:n(()=>[l]),_:1}),b,Object(c["g"])("div",i,[d,Object(c["g"])("span",m,[s.user.isAuthenticated?(Object(c["q"])(),Object(c["d"])("div",u,[Object(c["g"])("div",{class:"btn btn-light dropdown-toggle pl-0",onClick:e[2]||(e[2]=t=>s.state.dropOpen=!s.state.dropOpen)},[Object(c["g"])("img",{src:s.user.picture,alt:"user photo",height:"40",class:"rounded"},null,8,["src"]),Object(c["g"])("span",p,Object(c["z"])(s.user.name),1)]),Object(c["g"])("div",{class:["dropdown-menu p-0 list-group w-100",{show:s.state.dropOpen}],onClick:e[4]||(e[4]=t=>s.state.dropOpen=!1)},[Object(c["g"])(_,{to:{name:"Profile"}},{default:n(()=>[O]),_:1}),Object(c["g"])("div",{class:"list-group-item list-group-item-action hoverable",onClick:e[3]||(e[3]=(...t)=>s.logout(...t))}," logout ")],2)])):(Object(c["q"])(),Object(c["d"])("button",{key:0,class:"btn btn-success",onClick:e[1]||(e[1]=(...t)=>s.login(...t))}," Login "))])]),j,Object(c["g"])("div",g,[Object(c["g"])(_,{to:{name:"Home"},class:"nav-link pl-0"},{default:n(()=>[f]),_:1}),Object(c["g"])(_,{to:{name:"Profile"},class:"nav-link pl-0"},{default:n(()=>[v]),_:1}),Object(c["g"])(_,{to:{name:"Posts"},class:"nav-link pl-0"},{default:n(()=>[y]),_:1}),P,h,w]),C,x])}));var _=o("8816");const q=Object(c["u"])({user:{},profile:{},posts:[],activePost:{},comments:[],userComments:[],userPosts:[]}),A="codeworksclassroom.auth0.com",E="pOXw2OGv1LsYi7LEBmDF04RLkXQvldml",S="https://codeworksclassroom.com";var T=o("6c02");const B=Object(c["F"])("data-v-901f6a54");Object(c["t"])("data-v-901f6a54");const z={class:"home col-8 pt-3 mr-5 d-flex flex-column justify-content-center text-center"},M=Object(c["g"])("h1",null,"Welcome To Bright Skies Above",-1),U=Object(c["g"])("h3",null,"The newest platform for travel and adventure bloggers",-1);Object(c["r"])();const D=B((function(t,e,o,s,a,n){return Object(c["q"])(),Object(c["d"])("div",z,[M,U])}));var I={name:"Home"};o("1f1a");I.render=D,I.__scopeId="data-v-901f6a54";var F=I;const L=Object(c["F"])("data-v-005982de");Object(c["t"])("data-v-005982de");const H={key:0,class:"about col-9 mt-5 mr-5 p-4 d-flex flex-column text-center"},V={class:"border-bottom pb-3"},N={class:"border-bottom p-3"},R=Object(c["g"])("h3",null,"Create A New Post",-1),W={class:"form-group"},G={class:"form-group"},J=Object(c["g"])("button",{type:"submit",class:"btn btn-primary"}," Submit ",-1),X={class:"border-bottom p-3 row"},Q=Object(c["g"])("h3",{class:"col-12"}," Posts ",-1),Y={class:"row justify-content-center"},K={class:"border-bottom p-3"},Z=Object(c["g"])("h3",null," Comments ",-1),$={key:0,class:"row"};Object(c["r"])();const tt=L((function(t,e,o,s,a,n){const r=Object(c["x"])("PostCard"),l=Object(c["x"])("Comments");return s.profile.name?(Object(c["q"])(),Object(c["d"])("div",H,[Object(c["g"])("h1",null,"Welcome "+Object(c["z"])(s.profile.name),1),Object(c["g"])("img",{class:"rounded align-self-center my-2",src:s.profile.picture,alt:""},null,8,["src"]),Object(c["g"])("p",V,Object(c["z"])(s.profile.email),1),Object(c["g"])("div",N,[R,Object(c["g"])("form",{onSubmit:e[3]||(e[3]=Object(c["E"])((...t)=>s.createPost(...t),["prevent"]))},[Object(c["g"])("div",W,[Object(c["D"])(Object(c["g"])("input",{type:"text",class:"form-control",id:"title",placeholder:"Post Title","onUpdate:modelValue":e[1]||(e[1]=t=>s.state.newPost.title=t)},null,512),[[c["B"],s.state.newPost.title]])]),Object(c["g"])("div",G,[Object(c["D"])(Object(c["g"])("textarea",{name:"body",id:"body",cols:"57",rows:"10",placeholder:"Post Body","onUpdate:modelValue":e[2]||(e[2]=t=>s.state.newPost.body=t)},null,512),[[c["B"],s.state.newPost.body]])]),J],32)]),Object(c["g"])("div",X,[Q,Object(c["g"])("div",Y,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(s.userPosts,t=>(Object(c["q"])(),Object(c["d"])(r,{"post-props":t,key:t.id},null,8,["post-props"]))),128))])]),Object(c["g"])("div",K,[Z,s.userComments?(Object(c["q"])(),Object(c["d"])("div",$,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(s.userComments,t=>(Object(c["q"])(),Object(c["d"])(l,{"comment-props":t,key:t.id},null,8,["comment-props"]))),128))])):Object(c["e"])("",!0)])])):Object(c["e"])("",!0)}));var et=o("bc3a"),ot=o.n(et);const ct=ot.a.create({baseURL:"https://cw-bloggr.herokuapp.com/",timeout:3e3}),st=function(t){ct.defaults.headers.authorization=t};class at{async getProfile(){try{const t=await ct.get("api/profile");q.profile=t.data}catch(t){console.error(t)}}}const nt=new at,rt=Object(c["F"])("data-v-7d279c20");Object(c["t"])("data-v-7d279c20");const lt={class:"PostCard col-3 m-3 p-3 d-flex flex-column bg-light border-rounded shadow"},bt=Object(c["f"])(" Read ");Object(c["r"])();const it=rt((function(t,e,o,s,a,n){const r=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["d"])("div",lt,[Object(c["g"])("h5",null,Object(c["z"])(s.post.title),1),Object(c["g"])("p",null,Object(c["z"])(s.post.creatorEmail),1),Object(c["g"])(r,{to:{name:"ActivePost",params:{id:o.postProps.id}},class:"btn btn-secondary mt-2 justify-self-center"},{default:rt(()=>[bt]),_:1},8,["to"])])}));class dt{async getAllPosts(){try{const t=await ct.get("api/blogs");q.posts=t.data}catch(t){console.error(t)}}async getActivePost(t){try{const e=await ct.get("api/blogs/"+t);q.activePost=e.data,me.push({name:"ActivePost",params:{id:t}})}catch(e){console.error(e)}}async getProfilePosts(t){try{const t=await ct.get("api/profile/blogs");q.userPosts=t.data}catch(e){console.error(e)}}async createPost(t){try{await ct.post("api/blogs",t)}catch(e){console.error(e)}}async editPost(t,e){try{await ct.put("api/blogs/"+t,e)}catch(o){console.error(o)}}async deletePost(t){try{window.confirm("Are you sure?")&&(await ct.delete("api/blogs/"+t),me.push({name:"Profile"}))}catch(e){console.error(e)}}async getComments(t){try{const e=await ct.get("api/blogs/"+t+"/comments");q.comments=e.data}catch(e){console.error(e)}}async createComment(t){try{await ct.post("api/comments",t)}catch(e){console.error(e)}}async editComments(t,e){try{const o=await ct.put("api/comments/"+t,e);console.log(t),q.comments=o.data}catch(o){console.error(o)}}async deleteComment(t){try{window.confirm("Are you sure?")&&(await ct.delete("api/comments/"+t),me.push({name:"Post",params:{id:t}}),this.getComments())}catch(e){console.error(e)}}async getProfileComments(t){try{const t=await ct.get("api/profile/comments");q.userComments=t.data}catch(e){console.error(e)}}}const mt=new dt;var ut={name:"PostCard",props:{postProps:Object},setup(t){return{post:Object(c["b"])(()=>t.postProps),getActivePost(t){mt.getActivePost(t)}}},components:{}};ut.render=it,ut.__scopeId="data-v-7d279c20";var pt=ut;const Ot=Object(c["F"])("data-v-ded54178");Object(c["t"])("data-v-ded54178");const jt={class:"Comments col-10 offset-1 mr-5 my-3 p-3 d-flex justify-content-between bg-light border-rounded shadow"},gt={class:"border-top mt-4"},ft={class:"font-weight-bold"},vt={class:"align-self-end mt-3"},yt={key:0,type:"button",class:"btn btn-success","data-toggle":"modal","data-target":"#editCommentModal"},Pt={class:"modal fade",id:"editCommentModal",tabindex:"-1","aria-labelledby":"editModal","aria-hidden":"true"},ht={class:"modal-dialog"},wt={class:"modal-content"},Ct=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Edit Comment"),Object(c["g"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(c["g"])("span",{"aria-hidden":"true"},"×")])],-1),xt={class:"modal-body"},kt={class:"form-group"},_t=Object(c["g"])("button",{type:"submit",class:"btn btn-primary"},"Edit",-1);Object(c["r"])();const qt=Ot((function(t,e,o,s,a,n){return Object(c["q"])(),Object(c["d"])("div",jt,[Object(c["g"])("div",null,[Object(c["g"])("p",null,Object(c["z"])(s.comment.body),1),Object(c["g"])("div",gt,[Object(c["g"])("p",ft," - "+Object(c["z"])(s.comment.creatorEmail),1)])]),Object(c["g"])("div",vt,[s.comment.creator.id==s.profile.id?(Object(c["q"])(),Object(c["d"])("button",yt," Edit ")):Object(c["e"])("",!0),s.comment.creatorEmail==s.profile.email?(Object(c["q"])(),Object(c["d"])("button",{key:1,class:"btn btn-danger ml-2",onClick:e[1]||(e[1]=t=>s.deleteComment(s.comment.id))}," Delete ")):Object(c["e"])("",!0)]),Object(c["g"])("div",Pt,[Object(c["g"])("div",ht,[Object(c["g"])("div",wt,[Ct,Object(c["g"])("div",xt,[Object(c["g"])("form",{onSubmit:e[3]||(e[3]=Object(c["E"])(t=>s.editComments(s.comment.blog.id),["prevent"]))},[Object(c["g"])("div",kt,[Object(c["D"])(Object(c["g"])("input",{type:"text",class:"form-control",id:"title",placeholder:"Comment","onUpdate:modelValue":e[2]||(e[2]=t=>s.state.editComment.body=t)},null,512),[[c["B"],s.state.editComment.body]])]),_t],32)])])])])])}));var At={name:"Comments",props:{commentProps:Object},setup(t){const e=Object(c["u"])({editComment:{}});return{state:e,profile:Object(c["b"])(()=>q.profile),comment:Object(c["b"])(()=>t.commentProps),getComments(){mt.getComments()},editComments(){mt.editComments(t.commentProps.id,e.editComment)},deleteComment(t){mt.deleteComment(t)}}},components:{}};At.render=qt,At.__scopeId="data-v-ded54178";var Et=At,St={name:"Profile",setup(){const t=Object(c["u"])({newPost:{}}),e=Object(T["c"])();return Object(c["o"])(()=>{nt.getProfile(),mt.getProfilePosts(e.params.id),mt.getProfileComments(e.params.id)}),{state:t,profile:Object(c["b"])(()=>q.profile),activePost:Object(c["b"])(()=>q.activePost),posts:Object(c["b"])(()=>q.posts),user:Object(c["b"])(()=>q.user),comments:Object(c["b"])(()=>q.comments),userComments:Object(c["b"])(()=>q.userComments),userPosts:Object(c["b"])(()=>q.userPosts),createPost(){mt.createPost(t.newPost)}}},components:{PostCard:pt,Comments:Et}};o("72da");St.render=tt,St.__scopeId="data-v-005982de";var Tt=St;const Bt=Object(c["F"])("data-v-de5fe1f8");Object(c["t"])("data-v-de5fe1f8");const zt={key:0,class:"Posts col-8 mt-3"},Mt=Object(c["g"])("h5",null,"Latest Posts",-1),Ut=Object(c["g"])("hr",null,null,-1),Dt={class:"row"};Object(c["r"])();const It=Bt((function(t,e,o,s,a,n){const r=Object(c["x"])("PostCard");return s.posts?(Object(c["q"])(),Object(c["d"])("div",zt,[Mt,Ut,Object(c["g"])("div",Dt,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(s.posts,t=>(Object(c["q"])(),Object(c["d"])(r,{"post-props":t,key:t.id},null,8,["post-props"]))),128))])])):Object(c["e"])("",!0)}));var Ft={name:"Posts",components:{PostCard:pt},setup(){return Object(c["o"])(()=>{mt.getAllPosts()}),{posts:Object(c["b"])(()=>q.posts)}}};Ft.render=It,Ft.__scopeId="data-v-de5fe1f8";var Lt=Ft;const Ht=Object(c["F"])("data-v-053b46c2");Object(c["t"])("data-v-053b46c2");const Vt={key:0,class:"ActivePost col-9 p-5 mr-5 w-75 d-flex flex-column bg-light border-rounded shadow"},Nt={class:"border-bottom"},Rt={class:"font-weight-bold"},Wt=Object(c["g"])("hr",null,null,-1),Gt=Object(c["g"])("hr",null,null,-1),Jt={class:"align-self-end mt-3"},Xt={key:0,type:"button",class:"btn btn-success","data-toggle":"modal","data-target":"#editModal"},Qt=Object(c["g"])("h3",null,"Comments",-1),Yt={class:"form-group w-75"},Kt=Object(c["g"])("button",{type:"submit",class:"btn btn-primary h-75"}," Comment ",-1),Zt={key:0,class:"row"},$t={class:"modal fade",id:"editModal",tabindex:"-1","aria-labelledby":"editModal","aria-hidden":"true"},te={class:"modal-dialog"},ee={class:"modal-content"},oe=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title",id:"exampleModalLabel"},"Edit Post"),Object(c["g"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(c["g"])("span",{"aria-hidden":"true"},"×")])],-1),ce={class:"modal-body"},se={class:"form-group"},ae={class:"form-group"},ne=Object(c["g"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);Object(c["r"])();const re=Ht((function(t,e,o,s,a,n){const r=Object(c["x"])("Comments");return s.activePost.title?(Object(c["q"])(),Object(c["d"])("div",Vt,[Object(c["g"])("div",Nt,[Object(c["g"])("h2",null,Object(c["z"])(s.activePost.title),1),Object(c["g"])("p",Rt,Object(c["z"])(s.activePost.creator.name),1)]),Wt,Object(c["g"])("p",null,Object(c["z"])(s.activePost.body),1),Gt,Object(c["g"])("div",Jt,[s.activePost.creator.id==s.profile.id?(Object(c["q"])(),Object(c["d"])("button",Xt," Edit ")):Object(c["e"])("",!0),s.activePost.creatorEmail==s.profile.email?(Object(c["q"])(),Object(c["d"])("button",{key:1,class:"btn btn-danger ml-2",onClick:e[1]||(e[1]=t=>s.deletePost(s.activePost.id))}," Delete ")):Object(c["e"])("",!0)]),Object(c["g"])("div",null,[Qt,Object(c["g"])("form",{class:"d-flex justify-content-between",onSubmit:e[3]||(e[3]=Object(c["E"])((...t)=>s.createComment(...t),["prevent"]))},[Object(c["g"])("div",Yt,[Object(c["D"])(Object(c["g"])("input",{type:"text",class:"form-control",id:"body",placeholder:"Comment","onUpdate:modelValue":e[2]||(e[2]=t=>s.state.newComment.body=t)},null,512),[[c["B"],s.state.newComment.body]])]),Kt],32),s.comments?(Object(c["q"])(),Object(c["d"])("div",Zt,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(s.comments,t=>(Object(c["q"])(),Object(c["d"])(r,{"comment-props":t,key:t.id},null,8,["comment-props"]))),128))])):Object(c["e"])("",!0)]),Object(c["g"])("div",$t,[Object(c["g"])("div",te,[Object(c["g"])("div",ee,[oe,Object(c["g"])("div",ce,[Object(c["g"])("form",{onSubmit:e[6]||(e[6]=Object(c["E"])(t=>s.editPost(s.activePost.id),["prevent"]))},[Object(c["g"])("div",se,[Object(c["D"])(Object(c["g"])("input",{type:"text",class:"form-control",id:"title",placeholder:"Post Title","onUpdate:modelValue":e[4]||(e[4]=t=>s.state.editPost.title=t)},null,512),[[c["B"],s.state.editPost.title]])]),Object(c["g"])("div",ae,[Object(c["D"])(Object(c["g"])("textarea",{name:"body",id:"body",cols:"57",rows:"10",placeholder:"Post Body","onUpdate:modelValue":e[5]||(e[5]=t=>s.state.editPost.body=t)},null,512),[[c["B"],s.state.editPost.body]])]),ne],32)])])])])])):Object(c["e"])("",!0)}));var le={name:"ActivePost",setup(){const t=Object(c["u"])({newPost:{},newComment:{blog:Object(c["b"])(()=>q.activePost.id)},editPost:{}}),e=Object(T["c"])();return Object(c["o"])(()=>{mt.getActivePost(e.params.id),mt.getComments(e.params.id)}),{state:t,comments:Object(c["b"])(()=>q.comments),profile:Object(c["b"])(()=>q.profile),activePost:Object(c["b"])(()=>q.activePost),editPost(e){mt.editPost(e,t.editPost)},createPost(){mt.createPost(t.newPost)},deletePost(t){mt.deletePost(t)},createComment(){mt.createComment(t.newComment)}}},components:{Comments:Et}};le.render=re,le.__scopeId="data-v-053b46c2";var be=le;const ie=[{path:"/",name:"Home",component:F},{path:"/api/profile",name:"Profile",component:Tt,beforeEnter:_["a"].authGuard},{path:"/api/blogs",name:"Posts",component:Lt},{path:"/api/blogs/:id",name:"ActivePost",component:be}],de=Object(T["a"])({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:Object(T["b"])(),routes:ie});var me=de;const ue=_["a"].initialize({domain:A,clientId:E,audience:S,onRedirectCallback:t=>{me.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}});ue.on(ue.AUTH_EVENTS.AUTHENTICATED,(async function(){st(ue.bearer),await nt.getProfile(),q.user=ue.user}));var pe={name:"Navbar",setup(){const t=Object(c["u"])({dropOpen:!1});return{state:t,user:Object(c["b"])(()=>q.user),async login(){ue.loginWithPopup()},async logout(){await ue.logout({returnTo:window.location.origin})}}}};o("51c5");pe.render=k,pe.__scopeId="data-v-667372ea";var Oe=pe,je={name:"App",setup(){return{appState:Object(c["b"])(()=>q)}},components:{Navbar:Oe}};o("9cdc");je.render=a;var ge=je;Object(c["c"])(ge).use(me).mount("#app")},"72da":function(t,e,o){"use strict";o("464e")},"9cdc":function(t,e,o){"use strict";o("c701")},"9f97":function(t,e,o){},c701:function(t,e,o){},e364:function(t,e,o){}});